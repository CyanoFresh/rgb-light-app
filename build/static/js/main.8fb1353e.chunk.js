(this["webpackJsonprgb-light-app"]=this["webpackJsonprgb-light-app"]||[]).push([[0],{125:function(e,t,n){e.exports=n(300)},300:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(28),i=n.n(o),c=n(20),l=n(331),s=n(327),u=n(9),g=n(332),m=n(333),d=n(74),p=n.n(d),h=n(112),f=n(328),b=n(329),v=n(334),w=n(75),E=n(330),O=n(113),k=n.n(O),x=n(337),y=n(303),C=n(335),j={pollInterval:5e3,pollTimeout:1900,kelvin:3e3,colors:["red","rgb(255,32,0)","orangeRed","yellow","lime","springGreen","cyan","Aquamarine","DeepSkyBlue","blue","rgb(127,0,255)","Magenta","rgb(255,0,127)","rgb(255,0,4)"]},S=Object(s.a)((function(e){return{loadingTitle:{marginTop:e.spacing(3)},paper:{padding:e.spacing(2,3)},paper2:{padding:e.spacing(4,3)},name:{marginBottom:e.spacing(1)},loadingParent:{textAlign:"center",padding:e.spacing(5,0)},chroma:{boxShadow:e.shadows[1]+" !important"}}})),N=function(e){return{r:4*e.rgb.r,g:4*e.rgb.g,b:4*e.rgb.b}},T=function(e){var t=e.split(","),n=Object(c.a)(t,4),a=n[0],r=function(e,t,n){return{r:e/4,g:t/4,b:n/4}}(+n[1],+n[2],+n[3]);return{on:Boolean(+a),color:r}};var I=function(e){var t=e.url,n=e.isOnline,o=e.setIsOnline,i=S(),l=Object(a.useState)(j.kelvin),s=Object(c.a)(l,2),u=s[0],g=s[1],m=Object(a.useState)({on:!1,color:{r:0,g:0,b:0}}),d=Object(c.a)(m,2),O=d[0],I=d[1],B=function(){var e=Object(h.a)(p.a.mark((function e(){var n,a,r,i,c,l,s=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]&&s[0],a=s.length>1&&void 0!==s[1]?s[1]:"",r=new AbortController,i=r.signal,setTimeout((function(){return r.abort()}),j.pollTimeout),e.prev=5,e.next=8,fetch(t+a,{method:n?"POST":"GET",signal:i});case 8:return c=e.sent,e.next=11,c.text();case 11:l=e.sent,o(!0),I(T(l)),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),console.log("Request failed: ",e.t0.message),o(!1);case 20:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e=setInterval(B,5e3);return B(),function(){return clearTimeout(e)}}),[t]);var R=function(e){var t=N(e),n=t.r,a=t.g,r=t.b;return B(!0,"?on=1&r=".concat(n,"&g=").concat(a,"&b=").concat(r))};return n?r.a.createElement(E.a,{container:!0,spacing:2},r.a.createElement(E.a,{item:!0,lg:3,sm:6,xs:12},r.a.createElement(w.ChromePicker,{width:"100%",className:i.chroma,color:O.color,onChangeComplete:R,styles:{default:{saturation:{touchAction:"none"},controls:{touchAction:"none"}}},disableAlpha:!0})),r.a.createElement(E.a,{item:!0,lg:3,sm:6,xs:12},r.a.createElement(y.a,{className:i.paper2},r.a.createElement(w.CirclePicker,{color:O.color,onChangeComplete:R,width:"100%",circleSize:40,circleSpacing:17,colors:j.colors}))),r.a.createElement(E.a,{item:!0,lg:3,sm:6,xs:12},r.a.createElement(C.a,{variant:"contained",color:O.on?"default":"primary",size:"large",fullWidth:!0,onClick:function(){var e=N({rgb:O.color}),t=e.r,n=e.g,a=e.b;return B(!0,"?on=".concat(+!O.on,"&r=").concat(t,"&g=").concat(n,"&b=").concat(a))}},O.on?"Turn Off":"Turn On")),r.a.createElement(E.a,{item:!0,lg:3,sm:6,xs:12},r.a.createElement(y.a,{className:i.paper},r.a.createElement(b.a,{id:"kelvin-slider-label",gutterBottom:!0},"Color Temperature, K"),r.a.createElement(x.a,{value:u,min:600,max:5e3,defaultValue:3e3,valueLabelDisplay:"auto",getAriaValueText:function(e){return"".concat(e," K")},onChange:function(e,t){return g(t)},onChangeCommitted:function(e,t){var n=k()(t),a=Object(c.a)(n,3),r=a[0],o=a[1],i=a[2];return R({rgb:{r:r,g:o,b:i}})},"aria-labelledby":"kelvin-slider-label"})))):r.a.createElement("div",{className:i.loadingParent},r.a.createElement("div",null,r.a.createElement(f.a,{size:90,thickness:3})),r.a.createElement(v.a,null,r.a.createElement(b.a,{variant:"h4",gutterBottom:!0,className:i.loadingTitle},"Not Connected"),r.a.createElement(b.a,{variant:"body2",color:"textSecondary",gutterBottom:!0},"Connect to Wi-Fi RGB Light")))},B=n(336);var R=n(117),A=n.n(R),W=n(118),P=n.n(W),G=Object(s.a)((function(e){return{root:{flexGrow:1,display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},title:{flexGrow:1,fontFamily:"Product Sans",fontWeight:400,whiteSpace:"nowrap",wordBreak:"keep-all",marginRight:e.spacing()},content:{flexGrow:1,minHeight:"100vh",overflow:"auto",padding:e.spacing(1)},menuButton:{marginRight:e.spacing(2)},toolbar:e.mixins.toolbar,search:{position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(u.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(u.b)(e.palette.common.white,.25)},width:"100%"},inputRoot:{color:"inherit"},inputInput:{padding:e.spacing(1,1,1,6),transition:e.transitions.create("width"),width:"100%"},searchIcon:{width:e.spacing(6.5),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}}}));var z=function(){var e=G(),t=Object(a.useState)(!1),n=Object(c.a)(t,2),o=n[0],i=n[1],s=function(e,t){var n=Object(a.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return console.log(a),t}})),r=Object(c.a)(n,2),o=r[0],i=r[1];return[o,function(t){try{var n=t instanceof Function?t(o):t;i(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(a){console.log(a)}}]}("device_url","http://192.168.4.1/"),u=Object(c.a)(s,2),d=u[0],p=u[1];return r.a.createElement("div",{className:e.root},r.a.createElement(l.a,null),r.a.createElement(g.a,{position:"fixed",className:e.appBar},r.a.createElement(m.a,null,r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.searchIcon},o?r.a.createElement(A.a,null):r.a.createElement(P.a,null)),r.a.createElement(B.a,{placeholder:"Device URL\u2026",classes:{root:e.inputRoot,input:e.inputInput},value:d,onChange:function(e){return p(e.target.value)}})))),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.toolbar}),r.a.createElement(I,{url:d,isOnline:o,setIsOnline:i})))},L=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function J(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(z,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");L?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):J(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):J(t,e)}))}}()}},[[125,1,2]]]);
//# sourceMappingURL=main.8fb1353e.chunk.js.map